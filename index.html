<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SMART MATH LAB ‚Äì Candy Order Puzzle</title>

    <style>
        * {
            box-sizing: border-box;
        }

        body {
            margin: 0;
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb, #4facfe, #00f2fe);
            overflow-x: hidden;
            min-height: 100vh;
            padding: 15px;
        }

        .header {
            text-align: center;
            padding: 15px 15px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f, #c44569);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            border-bottom: 4px solid #ffd93d;
            border-radius: 15px;
            margin-bottom: 15px;
        }

        .header h1 {
            margin: 0;
            font-size: 32px;
            font-weight: 800;
            color: white;
            letter-spacing: 1px;
            text-shadow: 3px 3px 6px rgba(0,0,0,0.3);
            display: inline-block;
        }

        .header img {
            height: 50px;
            margin-top: 8px;
            filter: drop-shadow(0 3px 6px rgba(0,0,0,0.2));
        }

        .game-container {
            text-align: center;
            padding: 0 10px;
        }

        .instruction {
            font-size: 20px;
            font-weight: 700;
            color: white;
            margin: 15px 0;
            padding: 12px 15px;
            background: linear-gradient(135deg, rgba(255,107,107,0.9), rgba(255,215,0,0.9));
            border-radius: 12px;
            border: 2px solid rgba(255,255,255,0.5);
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
        }

        .candies-container {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .candy-item {
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .drop-circle {
            width: 55px;
            height: 55px;
            border: 2px solid rgba(255,255,255,0.9);
            border-radius: 50%;
            background: rgba(0,184,148,0.3);
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 22px;
            font-weight: 900;
            color: white;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.5);
            margin-bottom: 8px;
            cursor: grab;
            transition: all 0.2s ease;
        }

        .drop-circle:hover {
            background: rgba(0,184,148,0.5);
        }

        .drop-circle.over {
            background: rgba(0,184,148,0.8);
            border-color: rgba(0,184,148,1);
            transform: scale(1.1);
            box-shadow: 0 0 15px rgba(0,184,148,0.9);
        }

        .drop-circle.filled {
            background: rgba(0,184,148,0.9);
            border-color: rgba(0,184,148,1);
            font-size: 26px;
        }

        .candy-image {
            width: 90px;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 6px 15px rgba(0,0,0,0.2);
        }

        .numbers {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 12px;
            flex-wrap: wrap;
            padding: 0 10px;
        }

        .tile {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f);
            color: white;
            box-shadow: 0 6px 16px rgba(255,107,107,0.4);
            border-radius: 15px;
            font-size: 32px;
            font-weight: 900;
            cursor: grab;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.2s ease;
            border: 2px solid #ff9999;
        }

        .tile:hover {
            transform: scale(1.08) translateY(-4px);
            box-shadow: 0 10px 25px rgba(255,107,107,0.5);
        }

        .tile:active {
            transform: scale(1.05);
            cursor: grabbing;
        }

        .btn {
            margin-top: 20px;
            padding: 12px 40px;
            font-size: 18px;
            background: linear-gradient(135deg, #ff6b6b, #ee5a6f, #c44569);
            color: white;
            border: none;
            border-radius: 40px;
            cursor: pointer;
            font-weight: 800;
            box-shadow: 0 6px 20px rgba(255,107,107,0.4);
            transition: all 0.2s ease;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255,107,107,0.5);
        }

        #result {
            margin-top: 15px;
            margin-bottom: 20px;
            font-size: 24px;
            font-weight: 800;
            opacity: 0;
            transition: opacity 0.6s ease;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255,255,255,0.95);
            box-shadow: 0 6px 18px rgba(0,0,0,0.2);
        }

        #result.success {
            color: #00b894;
            background: rgba(0,184,148,0.2);
            border: 2px solid rgba(0,184,148,0.5);
        }

        #result.error {
            color: #d63031;
            background: rgba(214,48,49,0.2);
            border: 2px solid rgba(214,48,49,0.5);
        }

        .game-message {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0,0,0,0.9);
            color: #ffd93d;
            padding: 25px 35px;
            border-radius: 12px;
            font-size: 24px;
            font-weight: 800;
            text-align: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            box-shadow: 0 0 25px rgba(255,217,61,0.5);
        }

        .game-message.show {
            opacity: 1;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 24px;
            }

            .tile {
                width: 65px;
                height: 65px;
                font-size: 26px;
            }

            .drop-circle {
                width: 45px;
                height: 45px;
            }

            .candy-image {
                width: 75px;
            }
        }
    </style>
</head>

<body>

<div class="game-message" id="gameMessage"></div>

<div class="header">
    <h1>SMART MATH LAB</h1>
    <img src="images/logo.png" alt="Logo">
</div>

<div class="game-container">
    <div class="instruction" id="title"></div>

    <div class="candies-container" id="candiesContainer"></div>

    <div class="numbers" id="numbers"></div>

    <button class="btn" onclick="checkAnswer()">‚ú® CHECK ‚ú®</button>

    <div id="result"></div>
</div>

<script>
let puzzles = [
    [2, 5, 8, 3, 7],
    [12, 4, 15, 9, 1],
    [6, 18, 2, 13, 11],
    [10, 3, 8, 1, 14],
    [5, 11, 2, 16, 9],
    [20, 5, 15, 3, 18],
    [7, 1, 9, 4, 12],
    [14, 6, 11, 2, 19],
    [3, 13, 8, 17, 5],
    [16, 4, 10, 7, 2],
    [9, 15, 3, 12, 6],
    [11, 8, 1, 14, 4],
    [17, 5, 13, 2, 10],
    [6, 16, 9, 3, 12],
    [20, 1, 14, 7, 11]
];

let mode = ["ASCENDING", "DESCENDING"];
let currentPuzzle, correctOrder, droppedNumbers = [];

function loadPuzzle() {
    document.getElementById("result").style.opacity = 0;
    document.getElementById("result").classList.remove('success', 'error');
    droppedNumbers = [];

    currentPuzzle = puzzles[Math.floor(Math.random() * puzzles.length)];
    let gameMode = mode[Math.floor(Math.random() * mode.length)];

    document.getElementById("title").innerHTML =
        `Arrange in <span style="color:#e21818;">‚≠ê ${gameMode} ‚≠ê</span> order!`;

    correctOrder = [...currentPuzzle];
    correctOrder.sort((a, b) => gameMode === "ASCENDING" ? a - b : b - a);

    createCandies();
    loadTiles();
}

function createCandies() {
    let container = document.getElementById("candiesContainer");
    container.innerHTML = "";
    
    currentPuzzle.forEach((n) => {
        let candyItem = document.createElement("div");
        candyItem.className = "candy-item";
        
        let circle = document.createElement("div");
        circle.className = "drop-circle";
        circle.id = "zone" + n;
        circle.textContent = "";
        circle.addEventListener("dragover", dragOverZone);
        circle.addEventListener("drop", dropOnZone);
        circle.addEventListener("dragleave", dragLeaveZone);
        
        let img = document.createElement("img");
        img.className = "candy-image";
        img.src = "images/candy.png";
        img.alt = "Candy";
        
        candyItem.appendChild(circle);
        candyItem.appendChild(img);
        container.appendChild(candyItem);
    });
}

function loadTiles() {
    let area = document.getElementById("numbers");
    area.innerHTML = "";

    currentPuzzle.forEach((n) => {
        let div = document.createElement("div");
        div.className = "tile";
        div.draggable = true;
        div.id = "t" + n;
        div.textContent = n;
        div.addEventListener("dragstart", dragStart);
        area.appendChild(div);
    });
}

function dragStart(e) {
    e.dataTransfer.effectAllowed = "move";
    e.dataTransfer.setData("text", e.target.id);
}

function dragOverZone(e) {
    e.preventDefault();
    e.dataTransfer.dropEffect = "move";
    e.target.classList.add("over");
}

function dragLeaveZone(e) {
    e.target.classList.remove("over");
}

function dropOnZone(e) {
    e.preventDefault();
    e.target.classList.remove("over");
    
    let id = e.dataTransfer.getData("text");
    let tile = document.getElementById(id);
    
    if (tile) {
        let num = parseInt(tile.textContent);
        droppedNumbers.push(num);
        
        e.target.textContent = num;
        e.target.classList.add("filled");
        
        showMessage(`üéØ Great! You placed ${num}! üéØ`);
    }
}

function showMessage(msg) {
    let msgBox = document.getElementById("gameMessage");
    msgBox.textContent = msg;
    msgBox.classList.add("show");
    setTimeout(() => {
        msgBox.classList.remove("show");
    }, 1200);
}

function checkAnswer() {
    if (droppedNumbers.length === 0) {
        showMessage("Drag numbers to circles! üìç");
        return;
    }

    let result = document.getElementById("result");

    if (JSON.stringify(droppedNumbers) === JSON.stringify(correctOrder)) {
        result.classList.add('success');
        result.innerHTML = "‚úÖ CORRECT! YOU'RE A MATH CHAMPION! üèÜ";
        showMessage("üéä AMAZING! YOU WON! üéä");
    } else {
        result.classList.add('error');
        result.innerHTML = "‚ùå TRY AGAIN! üí™";
        showMessage("Try again! You can do it! üí™");
    }

    result.style.opacity = 1;
    setTimeout(loadPuzzle, 2500);
}

loadPuzzle();
</script>

</body>
</html>
